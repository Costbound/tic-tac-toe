{"version":3,"file":"index.js","sources":["../src/assets/img/sprite.svg","../src/ts/menu.tsx","../src/ts/board-header.tsx","../src/ts/score-board.tsx","../src/ts/ai.ts","../src/ts/board.tsx","../src/ts/main.tsx"],"sourcesContent":["export default \"__VITE_ASSET__NKSZpSDR__\"","import React, { useState } from 'react'\nimport sprite from '../assets/img/sprite.svg'\n\n\ninterface MenuProps  {\n    onChange: (param: boolean) => void\n    onClick: (param: boolean) => void\n}\ninterface MarkSelectorProps {\n    onChange: (param: boolean) => void\n}\ninterface EnemySelectorProps {\n    onClick: (param: boolean) => void\n}\n\n    \nexport default function Menu(props: MenuProps): React.ReactElement {\n        return (\n            <div className='menu-container'>\n                <Logo />\n                <MarkSelector\n                    onChange = {(i) => {props.onChange(i)}}\n                />\n                <EnemySelector\n                    onClick = {(i) => {props.onClick(i)}}\n                />\n            </div>\n        )\n}\n\nfunction Logo() {\n    return (\n        <div className=\"logo-container\">\n            <svg width='72' height='32'>\n                <use href={ `${sprite}#logo` } />\n            </svg>\n        </div>\n    )\n}\n\nfunction MarkSelector(props: MarkSelectorProps) {\nconst [checked, setChecked] = useState(true)\n\n    return (\n        <div className=\"mark-selector__container\">\n            <h2 className=\"mark-selector__title\">pick players 1's mark</h2>\n            <input\n                type=\"checkbox\"\n                className=\"mark-selector__checkbox visually-hidden\"\n                id='mark-selector'\n                checked={!checked}\n                onChange={() => { props.onChange(!checked);  setChecked(!checked) }}\n            />\n            <label className=\"mark-selector__label\" htmlFor='mark-selector'>\n                <div className=\"mark-selector__selected-div\"></div>\n                <svg className='mark-selector__x-icon' width='32' height='32'>\n                    <use href={`${sprite}#icon-x`}></use>\n                </svg>\n                <svg className='mark-selector__o-icon' width='32' height='32'>\n                    <use href={`${sprite}#icon-o`}></use>\n                </svg>\n            </label>\n            <p className=\"mark-selector__notice\">remember: x goes firt</p>\n        </div>\n    )\n}\n\nfunction EnemySelector(props: EnemySelectorProps) {\n    return (\n        <div className=\"enemy-selector__container\">\n            <button\n                className=\"enemy-selector__cpu-btn\"\n                type='button'\n                onClick={() => props.onClick(false)}\n            >\n                new game (vs cpu)\n            </button>\n            <button\n                className=\"enemy-selector__multiplayer-btn\"\n                type='button'\n                onClick={() => props.onClick(true)}\n            >\n                new game (vs player)\n            </button>\n        </div>\n    )\n}\n","import sprite from '../assets/img/sprite.svg'\n\n\ntype HeaderProps = {\n    isXStep: boolean\n    onClick: () => void\n}\ntype StepSVGProps = {\n    isXStep: boolean\n}\n\n\nexport default function Header(props: HeaderProps) {\n    return (\n        <div className=\"board__header\">\n            <svg width='72' height='32'>\n                <use href={ `${sprite}#logo` } />\n            </svg>\n            <div className=\"header__turn-container\">\n                <StepSVG\n                    isXStep={props.isXStep}\n                />\n                <p className=\"header__turn-para\">turn</p>\n            </div>\n            <button className=\"header__reset-btn\" type='button' onClick={props.onClick}>\n                <svg className='header-reset-icon' width='20' height='20'>\n                    <use href={`${sprite}#icon-restart`}></use>\n                </svg>\n            </button>\n        </div>\n    )\n}\n\nfunction StepSVG(props: StepSVGProps) {\n    if (props.isXStep) {\n        return (\n            <svg className='header__x-icon' width='20' height='20'>\n                <use href={`${sprite}#icon-x`}></use>\n            </svg>\n        )\n    }\n    return (\n        <svg className='header__o-icon' width='20' height='20'>\n            <use href={`${sprite}#icon-o`}></use>\n        </svg>\n    )\n}\n","// interface ScoreBoardProps {\n\n// }\n\ninterface ScoreBoardProps {\n    isMultiplayer: boolean\n    isXSelected: boolean\n    scores: {\n        xScore: number\n        oScore: number\n        ties: number\n    }\n}\n\nexport default function ScoreBoard(props: ScoreBoardProps) {\n    let xTitle: string | undefined\n    let oTitle: string | undefined\n    if (props.isMultiplayer) {\n        if (props.isXSelected) {\n            xTitle = 'p1'\n            oTitle = 'p2'\n        } else {\n            xTitle = 'p2'\n            oTitle = 'p1'\n        }\n    } else {\n        if (props.isXSelected) {\n            xTitle = 'you'\n            oTitle = 'cpu'\n        } else {\n            xTitle = 'you'\n            oTitle = 'cpu'\n        }\n    }\n\n    return (\n        <div className=\"score-board__content-container\">\n            <div className=\"score-board__x-score-container score-board__score-container\">\n                <h3 className=\"score-board__title\">x ({xTitle})</h3>\n                <p className=\"score-board__scores\">{props.scores.xScore}</p>\n            </div>\n            <div className=\"score-board__ties-container score-board__score-container\">\n                <h3 className=\"score-board__title\">ties</h3>\n                <p className=\"score-board__scores\">{props.scores.ties}</p>\n            </div>\n            <div className=\"score-board__o-score-container score-board__score-container\">\n                <h3 className=\"score-board__title\">o ({oTitle})</h3>\n                <p className=\"score-board__scores\">{props.scores.oScore}</p>\n            </div>\n        </div>\n    )\n}","\n\nexport default function makeStep(marksDirty: string[] | null[], isXSelected: boolean, isXStep: boolean): number | undefined {\n    const marks = marksDirty.slice()\n    const oponent: string = isXSelected ? 'x' : 'o'\n    const cpu: string = isXSelected ? 'o' : 'x'\n    const isCpuStep = !isXSelected && isXStep ? true :\n        isXSelected && !isXStep ? true : false\n    const winState: number[][] = [\n        [0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8],\n        [0, 3, 6],\n        [1, 4, 7],\n        [2, 5, 8],\n        [0, 4, 8],\n        [2, 4, 6]\n    ]\n\n\n    if (isCpuStep) {\n        if (marks.every(mark => mark === null)) {\n            const randomMark = Math.floor(Math.random() * 10)\n            if (randomMark > 8) {\n                return 8\n            }\n            return randomMark\n        }\n        \n        for (let state of winState) {\n            const [a, b, c] = state\n\n            if (marks[a] === cpu && marks[b] === cpu && marks[c] === null) {\n                return c\n            } else if (marks[a] === cpu && marks[c] === cpu && marks[b] === null) {\n                return b\n            } else if (marks[b] === cpu && marks[c] === cpu && marks[a] === null) {\n                return a\n            }\n        }\n\n        for (let state of winState) {\n            const [a, b, c] = state\n\n            if (marks[a] === oponent && marks[b] === oponent && marks[c] === null) {\n                return c\n            } else if (marks[a] === oponent && marks[c] === oponent && marks[b] === null) {\n                return b\n            } else if (marks[b] === oponent && marks[c] === oponent && marks[a] === null) {\n                return a\n            }\n        }\n\n\n        if (!marks[4]) {\n            return 4\n        }\n        return marks.indexOf(null!)\n    }\n}","import React, { MouseEventHandler } from 'react'\nimport sprite from '../assets/img/sprite.svg'\nimport Header from './board-header'\nimport ScoreBoard from './score-board'\nimport makeStep from './ai'\n\n\ninterface BoardProps {\n    resetGame: () => void\n    isMultiplayer: boolean\n    isXSelected: boolean\n}\ninterface BoardState {\n    field: {\n        squares: JSX.Element[] | null[]\n        marks: string[] | null[]\n    }\n    scores: {\n        xScore: number\n        oScore: number\n        ties: number\n    }\n    isXStep: boolean\n    isXGoesFirst: boolean\n    isRestart: boolean\n}\ninterface GameFieldProps  {\n    squares: JSX.Element[] | null[]\n    marks : string[] | null[]\n    isXStep: boolean\n    onClick: (param: number) => void\n}\ntype SquareProps = {\n    value: React.ReactElement | null\n    marks: string[] | null[]\n    id: number\n    isXStep: boolean\n    onClick: MouseEventHandler\n}\n\nexport default class Board extends React.Component<BoardProps, BoardState> {\n    state: BoardState\n    readonly iconX: JSX.Element\n    readonly iconO: JSX.Element\n\n    constructor(props: BoardProps) {\n        super(props)\n        this.iconX = (\n            <svg className='board__x-icon' width='64' height='64'>\n                <use href={`${sprite}#icon-x`}></use>\n            </svg>\n        )\n        this.iconO = (\n            <svg className='board__o-icon' width='64' height='64'>\n                <use href={`${sprite}#icon-o`}></use>\n            </svg>\n        )\n        const squares = JSON.parse(localStorage.getItem('marks')!) ? JSON.parse(localStorage.getItem('marks')!).map((mark: string | null): JSX.Element | null => {\n            if (mark === 'x') {\n                return this.iconX\n            } else if (mark === 'o') {\n                return this.iconO\n            }\n            return null\n        }) : null\n\n        this.state = localStorage.getItem('board') ? JSON.parse(localStorage.getItem('board')!) :\n            {\n                field: {\n                    squares: squares,\n                    marks: JSON.parse(localStorage.getItem('marks')!) || Array(9).fill(null),\n                },\n                scores: JSON.parse(localStorage.getItem('scores')!) || {\n                    xScore: 0,\n                    oScore: 0,\n                    ties: 0\n                },\n                isXStep: JSON.parse(localStorage.getItem('isXStep')!) || true,\n                isXGoesFirst: JSON.parse(localStorage.getItem('isXGoesFirst')!) || true,\n                isRestart: false\n            }\n    }\n\n\n    handleFieldClick(i: number | null | undefined): void {\n        if (i || i === 0) {\n            const { squares, marks } = this.state.field\n            if (squares[i] || calculateWinner(this.state.field.marks)) {\n                return\n            }\n            if (this.state.isXStep) {\n                squares[i] = this.iconX\n                marks[i] = 'x'\n            } else {\n                squares[i] = this.iconO\n                marks[i] = 'o'\n            }\n            \n            this.setState({\n                field: {\n                    squares: squares,\n                    marks: marks\n                },\n                isXStep: !this.state.isXStep\n            })\n        }\n    }\n\n    restartClickHandler() {\n        this.setState({\n            isRestart: true\n        })\n    }\n\n    nextRoundHandler(): void {\n        const winner = calculateWinner(this.state.field.marks)\n        let { xScore, oScore, ties } = this.state.scores\n\n        if (winner) {\n            winner === 'tie' ? ties += 1 :\n                winner[0] === 'x' ? xScore += 1 :\n                    winner[0] === 'o' ? oScore += 1 : null\n        }\n\n        this.setState({\n            field: {\n                squares: Array(9).fill(null),\n                marks: Array(9).fill(null)\n            },\n            isXStep: !this.state.isXGoesFirst,\n            isXGoesFirst: !this.state.isXGoesFirst,\n            scores: {\n                xScore: xScore,\n                oScore: oScore,\n                ties: ties\n            }\n        })\n    }\n\n    restartGame() {\n        this.setState({\n            field: {\n                squares: Array(9).fill(null),\n                marks: Array(9).fill(null),\n            },\n            scores: {\n                xScore: 0,\n                oScore: 0,\n                ties: 0\n            },\n            isXStep: true,\n            isRestart: false\n        })\n        this.props.resetGame()\n    }\n\n    onRoundEnd(winner: [string, number, number, number] | string | null): JSX.Element | null {\n\n        if (winner) {\n            let title: JSX.Element | null = null\n            let para: JSX.Element | null = null\n\n            if (winner === 'tie') {\n                title = (<h2 className=\"result__title_tie\">round tied</h2>)\n            } else if (winner[0] === \"x\") {\n                title = (<h2 className=\"result__title_x-win\">{this.iconX} takes the round</h2>)\n                if (this.props.isMultiplayer) {\n                    para = this.props.isXSelected ? (<p className=\"result__winner-para\">player 1 wins!</p>) :\n                        (<p className=\"result__winner-para\">player 2 wins!</p>)\n                } else {\n                    para = this.props.isXSelected ? (<p className=\"result__winner-para\">you won!</p>) :\n                        (<p className=\"result__winner-para\">oh no, you lost...</p>)\n                }\n            } else if (winner[0] === \"o\") {\n                title = (<h2 className=\"result__title_o-win\">{this.iconO}takes the round</h2>)\n                if (this.props.isMultiplayer) {\n                    para = this.props.isXSelected ? (<p className=\"result__winner-para\">player 2 wins!</p>) : \n                        (<p className=\"result__winner-para\">player 1 wins!</p>)\n                } else {\n                    para = this.props.isXSelected ? (<p className=\"result__winner-para\">oh no, you lost...</p>) : \n                        (<p className=\"result__winner-para\">you won!</p>)\n                }\n            }\n\n                    \n            return (\n                <div className=\"board__result-backdrop\">\n                    <div className=\"result__container\">\n                        {para}\n                        {title}\n                        <div className=\"result__btns-wrapper\">\n                            <button className=\"result__quit-btn\" type='button'onClick={() => this.restartClickHandler()}>quit</button>\n                            <button className=\"result__next-btn\" type='button' onClick={ () => this.nextRoundHandler() }>next round</button>\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n        return null\n    }\n\n\n    render() {\n        localStorage.setItem('marks', JSON.stringify(this.state.field.marks))\n        localStorage.setItem('scores', JSON.stringify(this.state.scores))\n        localStorage.setItem('isXStep', JSON.stringify(this.state.isXStep))\n\n\n        const winner: JSX.Element | null = calculateWinner(this.state.field.marks) ?\n            this.onRoundEnd(calculateWinner(this.state.field.marks)) :\n            null\n        const restartModal = !this.state.isRestart ? null :\n            (\n               <div className=\"board__restart-backdrop\">\n                    <div className=\"restart__container\">\n                        <h2 className=\"restart__title\">restart game?</h2>\n                        <div className=\"restart__btns-wrapper\">\n                            <button className=\"restart__no-btn\" type='button' onClick={() => {this.setState({isRestart: false})}}>no, cancel</button>\n                            <button className=\"restart__yes-btn\" type='button' onClick={() => {this.restartGame()}}>yes, restart</button>\n                        </div>\n                    </div>\n                </div> \n            )\n        \n        if (!this.props.isMultiplayer) {\n            this.handleFieldClick(makeStep(this.state.field.marks, this.props.isXSelected, this.state.isXStep))\n        }\n        \n        return (\n            <div className=\"board-container\">\n                <Header\n                    isXStep={this.state.isXStep}\n                    onClick={() => this.restartClickHandler()}\n                />\n                <GameField\n                    squares={this.state.field.squares}\n                    marks={this.state.field.marks}\n                    onClick={(i) => this.handleFieldClick(i)}\n                    isXStep={this.state.isXStep}\n                />\n                <ScoreBoard\n                    isMultiplayer={this.props.isMultiplayer}\n                    isXSelected={this.props.isXSelected}\n                    scores={this.state.scores}\n                />\n                {winner}\n                {restartModal}\n            </div>\n        )\n    }\n}\n\n\nclass GameField extends React.Component<GameFieldProps> {\n\n    constructor(props: GameFieldProps) {\n        super(props)\n    }\n\n    renderSquare(i: number): React.ReactElement {\n        return (\n            <Square\n                value={this.props.squares[i]}\n                marks={this.props.marks}\n                id={i}\n                onClick={() => this.props.onClick(i)}\n                isXStep={this.props.isXStep}\n            />\n\n        )\n    }\n\n\n    render() {\n        return (\n            <div className=\"board__game-field\">\n                {this.renderSquare(0)}\n                {this.renderSquare(1)}\n                {this.renderSquare(2)}\n                {this.renderSquare(3)}\n                {this.renderSquare(4)}\n                {this.renderSquare(5)}\n                {this.renderSquare(6)}\n                {this.renderSquare(7)}\n                {this.renderSquare(8)}\n            </div>\n        )\n    }\n}\nfunction Square(props: SquareProps): JSX.Element {\n    let hoverIcon: JSX.Element | null = null\n    const winner = calculateWinner(props.marks)\n\n    if (!props.value) {\n        if (props.isXStep) {\n            hoverIcon = (\n                <svg className='board__icon-outline' width='64' height='64'>\n                    <use href={`${sprite}#icon-x-outline`}></use>\n                </svg>\n            )\n        } else {\n            hoverIcon = (\n                <svg className='board__icon-outline' width='64' height='64'>\n                    <use href={`${sprite}#icon-o-outline`}></use>\n                </svg>\n            )\n        }\n    }\n    if (winner && winner !== 'tie' && (winner[1] === props.id || winner[2] === props.id || winner[3] === props.id)) {\n        const winnerClass: string = winner[0] === 'x' ?\n            'board__square-btn_x-win' :\n            'board__square-btn_o-win'\n        \n        return (\n            <button className={`board__square-btn ${winnerClass}`}>\n                {props.value}\n                {hoverIcon}\n            </button>\n        )\n    }\n    return (\n        <button className='board__square-btn' onClick={props.onClick}>\n            {props.value}\n            {hoverIcon}\n        </button>\n    )\n}\n\nfunction calculateWinner(marks: string[] | null[]): [string, number, number, number] | string | null {\n    const winState = [\n        [0, 1, 2],\n        [3, 4, 5],\n        [6, 7, 8],\n        [0, 3, 6],\n        [1, 4, 7],\n        [2, 5, 8],\n        [0, 4, 8],\n        [2, 4, 6]\n    ]\n    for (const line of winState) {\n        const [a, b, c] = line\n        if (marks[a] && marks[a] === marks[b] && marks[a] === marks[c]) {\n            return [ marks[a]!, a, b, c ]\n        }\n    }\n    if (marks.every(mark => mark)) {\n        return 'tie'\n    }\n    return null\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom/client'\nimport '../styles/index.scss'\nimport Menu from './menu'\nimport Board from './board'\n\ntype GameState = {\n    isXSelected: boolean\n    isMultiplayer: boolean | null\n}\n\nexport class Game extends React.Component<object, GameState> {\n    state: GameState\n    \n\n    constructor(props: object) {\n        super(props)\n        this.state = localStorage.getItem('game') ? JSON.parse(localStorage.getItem('game')!) :\n            {\n                isXSelected: true,\n                isMultiplayer: null\n            }\n    }\n\n    handleEnemySelect(i: boolean) {\n        this.setState({\n            isMultiplayer: i\n        })\n    }\n\n    handleMarkChange(i: boolean): void {\n        this.setState({\n            isXSelected: i\n        })\n    }\n    handleReset() {\n        this.setState({\n            isXSelected: true,\n            isMultiplayer: null\n        })\n        localStorage.clear()\n    }\n\n    render(): React.ReactElement | null {\n        localStorage.setItem('game', JSON.stringify(this.state))\n        if (this.state.isMultiplayer === null) {\n            return (\n                <Menu\n                    onChange={(i) => { this.handleMarkChange(i) }}\n                    onClick={(i) => { this.handleEnemySelect(i) }}\n                />\n            )\n        }\n        return (\n            <Board\n                resetGame={() => { this.handleReset() }}\n                isMultiplayer={this.state.isMultiplayer}\n                isXSelected={this.state.isXSelected}\n            />\n        )\n    }\n}\n\n\nconst root = ReactDOM.createRoot(document.querySelector('.game')!)\nroot.render(<Game />)"],"names":["sprite","Menu","props","jsxs","jsx","Logo","MarkSelector","EnemySelector","checked","setChecked","useState","Header","StepSVG","ScoreBoard","xTitle","oTitle","makeStep","marksDirty","isXSelected","isXStep","marks","oponent","cpu","isCpuStep","winState","mark","randomMark","state","a","b","c","Board","React","__publicField","squares","i","calculateWinner","winner","xScore","oScore","ties","title","para","restartModal","GameField","Square","hoverIcon","winnerClass","line","Game","root","ReactDOM"],"mappings":"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"}