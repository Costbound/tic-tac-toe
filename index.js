var u=Object.defineProperty;var m=(r,t,s)=>t in r?u(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s;var l=(r,t,s)=>(m(r,typeof t!="symbol"?t+"":t,s),s);import{j as e,r as x,R as d,c as _}from"./assets/vendor-s-jGDLLM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const a="/tic-tac-toe/assets/sprite-CKhX7d7e.svg";function f(r){return e.jsxs("div",{className:"menu-container",children:[e.jsx(j,{}),e.jsx(p,{onChange:t=>{r.onChange(t)}}),e.jsx(b,{onClick:t=>{r.onClick(t)}})]})}function j(){return e.jsx("div",{className:"logo-container",children:e.jsx("svg",{width:"72",height:"32",children:e.jsx("use",{href:`${a}#logo`})})})}function p(r){const[t,s]=x.useState(!0);return e.jsxs("div",{className:"mark-selector__container",children:[e.jsx("h2",{className:"mark-selector__title",children:"pick players 1's mark"}),e.jsx("input",{type:"checkbox",className:"mark-selector__checkbox visually-hidden",id:"mark-selector",checked:!t,onChange:()=>{r.onChange(!t),s(!t)}}),e.jsxs("label",{className:"mark-selector__label",htmlFor:"mark-selector",children:[e.jsx("div",{className:"mark-selector__selected-div"}),e.jsx("svg",{className:"mark-selector__x-icon",width:"32",height:"32",children:e.jsx("use",{href:`${a}#icon-x`})}),e.jsx("svg",{className:"mark-selector__o-icon",width:"32",height:"32",children:e.jsx("use",{href:`${a}#icon-o`})})]}),e.jsx("p",{className:"mark-selector__notice",children:"remember: x goes firt"})]})}function b(r){return e.jsxs("div",{className:"enemy-selector__container",children:[e.jsx("button",{className:"enemy-selector__cpu-btn",type:"button",onClick:()=>r.onClick(!1),children:"new game (vs cpu)"}),e.jsx("button",{className:"enemy-selector__multiplayer-btn",type:"button",onClick:()=>r.onClick(!0),children:"new game (vs player)"})]})}function g(r){return e.jsxs("div",{className:"board__header",children:[e.jsx("svg",{width:"72",height:"32",children:e.jsx("use",{href:`${a}#logo`})}),e.jsxs("div",{className:"header__turn-container",children:[e.jsx(N,{isXStep:r.isXStep}),e.jsx("p",{className:"header__turn-para",children:"turn"})]}),e.jsx("button",{className:"header__reset-btn",type:"button",children:e.jsx("svg",{className:"header-reset-icon",width:"20",height:"20",children:e.jsx("use",{href:`${a}#icon-restart`})})})]})}function N(r){return r.isXStep?e.jsx("svg",{className:"header__x-icon",width:"20",height:"20",children:e.jsx("use",{href:`${a}#icon-x`})}):e.jsx("svg",{className:"header__o-icon",width:"20",height:"20",children:e.jsx("use",{href:`${a}#icon-o`})})}function S(){return e.jsxs("div",{className:"score-board__content-container",children:[e.jsxs("div",{className:"score-board__x-score-container score-board__score-container",children:[e.jsx("h3",{className:"score-board__title",children:"x (P1)"}),e.jsx("p",{className:"score-board__scores",children:"0"})]}),e.jsxs("div",{className:"score-board__ties-container score-board__score-container",children:[e.jsx("h3",{className:"score-board__title",children:"ties"}),e.jsx("p",{className:"score-board__scores",children:"0"})]}),e.jsxs("div",{className:"score-board__o-score-container score-board__score-container",children:[e.jsx("h3",{className:"score-board__title",children:"o (P2)"}),e.jsx("p",{className:"score-board__scores",children:"0"})]})]})}class v extends d.Component{constructor(s){super(s);l(this,"state");this.state={field:{squares:Array(9).fill(null),marks:Array(9).fill(null)},isXStep:!0}}handleFieldClick(s){const{squares:c,marks:n}=this.state.field;c[s]||h(this.state.field.marks)||(this.state.isXStep?(c[s]=e.jsx("svg",{className:"board__x-icon",width:"64",height:"64",children:e.jsx("use",{href:`${a}#icon-x`})}),n[s]="x"):(c[s]=e.jsx("svg",{className:"board__o-icon",width:"64",height:"64",children:e.jsx("use",{href:`${a}#icon-o`})}),n[s]="o"),this.setState({field:{squares:c,marks:n},isXStep:!this.state.isXStep}))}onRoundEnd(s){return s?e.jsx("div",{className:"board__result-backdrop",children:e.jsx("div",{className:"result__container",children:e.jsxs("div",{className:"result__btns-wrapper",children:[e.jsx("button",{className:"result__quit-btn",type:"button",children:"quit"}),e.jsx("button",{className:"result__next-btn",type:"button",children:"next round"})]})})}):null}render(){return this.onRoundEnd(h(this.state.field.marks)),e.jsxs("div",{className:"board-container",children:[e.jsx(g,{isXStep:this.state.isXStep}),e.jsx(y,{squares:this.state.field.squares,onClick:s=>this.handleFieldClick(s),isXStep:this.state.isXStep}),e.jsx(S,{})]})}}class y extends d.Component{constructor(t){super(t)}renderSquare(t){return e.jsx(k,{value:this.props.squares[t],onClick:()=>this.props.onClick(t),isXStep:this.props.isXStep})}render(){return e.jsxs("div",{className:"board__game-field",children:[this.renderSquare(0),this.renderSquare(1),this.renderSquare(2),this.renderSquare(3),this.renderSquare(4),this.renderSquare(5),this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)]})}}function k(r){let t=null;return r.value||(r.isXStep?t=e.jsx("svg",{className:"board__icon-outline",width:"64",height:"64",children:e.jsx("use",{href:`${a}#icon-x-outline`})}):t=e.jsx("svg",{className:"board__icon-outline",width:"64",height:"64",children:e.jsx("use",{href:`${a}#icon-o-outline`})})),e.jsxs("button",{className:"board__square-btn",onClick:r.onClick,children:[r.value,t]})}function h(r){const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const s of t){const[c,n,i]=s;if(r[c]&&r[c]===r[n]&&r[c]===r[i])return[r[c],c,n,i]}return r.every(s=>s)?"tie":null}class C extends d.Component{constructor(s){super(s);l(this,"state");this.state={isXSelected:!0,isMultiplayer:null}}handleEnemySelect(s){this.setState({isMultiplayer:s})}handleMarkChange(s){this.setState({isXSelected:s})}render(){return this.state.isMultiplayer!==!0?e.jsx(f,{onChange:s=>{this.handleMarkChange(s)},onClick:s=>{this.handleEnemySelect(s)}}):e.jsx(v,{})}}const q=_.createRoot(document.querySelector(".game"));q.render(e.jsx(C,{}));
//# sourceMappingURL=index.js.map
