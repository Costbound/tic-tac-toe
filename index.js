var u=Object.defineProperty;var _=(t,r,s)=>r in t?u(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var c=(t,r,s)=>(_(t,typeof r!="symbol"?r+"":r,s),s);import{j as e,r as m,R as h,c as x}from"./assets/vendor-s-jGDLLM.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();const l="/tic-tac-toe/assets/sprite-CKhX7d7e.svg";function f(t){return e.jsxs("div",{className:"menu-container",children:[e.jsx(j,{}),e.jsx(p,{onChange:r=>{t.onChange(r)}}),e.jsx(b,{onClick:r=>{t.onClick(r)}})]})}function j(){return e.jsx("div",{className:"logo-container",children:e.jsx("svg",{width:"72",height:"32",children:e.jsx("use",{href:`${l}#logo`})})})}function p(t){const[r,s]=m.useState(!0);return e.jsxs("div",{className:"mark-selector__container",children:[e.jsx("h2",{className:"mark-selector__title",children:"pick players 1's mark"}),e.jsx("input",{type:"checkbox",className:"mark-selector__checkbox visually-hidden",id:"mark-selector",checked:!r,onChange:()=>{t.onChange(!r),s(!r)}}),e.jsxs("label",{className:"mark-selector__label",htmlFor:"mark-selector",children:[e.jsx("div",{className:"mark-selector__selected-div"}),e.jsx("svg",{className:"mark-selector__x-icon",width:"32",height:"32",children:e.jsx("use",{href:`${l}#icon-x`})}),e.jsx("svg",{className:"mark-selector__o-icon",width:"32",height:"32",children:e.jsx("use",{href:`${l}#icon-o`})})]}),e.jsx("p",{className:"mark-selector__notice",children:"remember: x goes firt"})]})}function b(t){return e.jsxs("div",{className:"enemy-selector__container",children:[e.jsx("button",{className:"enemy-selector__cpu-btn",type:"button",onClick:()=>t.onClick(!1),children:"new game (vs cpu)"}),e.jsx("button",{className:"enemy-selector__multiplayer-btn",type:"button",onClick:()=>t.onClick(!0),children:"new game (vs player)"})]})}function S(t){return e.jsxs("div",{className:"board__header",children:[e.jsx("svg",{width:"72",height:"32",children:e.jsx("use",{href:`${l}#logo`})}),e.jsxs("div",{className:"header__turn-container",children:[e.jsx(N,{isXStep:t.isXStep}),e.jsx("p",{className:"header__turn-para",children:"turn"})]}),e.jsx("button",{className:"header__reset-btn",type:"button",onClick:t.onClick,children:e.jsx("svg",{className:"header-reset-icon",width:"20",height:"20",children:e.jsx("use",{href:`${l}#icon-restart`})})})]})}function N(t){return t.isXStep?e.jsx("svg",{className:"header__x-icon",width:"20",height:"20",children:e.jsx("use",{href:`${l}#icon-x`})}):e.jsx("svg",{className:"header__o-icon",width:"20",height:"20",children:e.jsx("use",{href:`${l}#icon-o`})})}function y(t){let r,s;return t.isMultiplayer?t.isXSelected?(r="p1",s="p2"):(r="p2",s="p1"):(t.isXSelected,r="you",s="cpu"),e.jsxs("div",{className:"score-board__content-container",children:[e.jsxs("div",{className:"score-board__x-score-container score-board__score-container",children:[e.jsxs("h3",{className:"score-board__title",children:["x (",r,")"]}),e.jsx("p",{className:"score-board__scores",children:t.scores.xScore})]}),e.jsxs("div",{className:"score-board__ties-container score-board__score-container",children:[e.jsx("h3",{className:"score-board__title",children:"ties"}),e.jsx("p",{className:"score-board__scores",children:t.scores.ties})]}),e.jsxs("div",{className:"score-board__o-score-container score-board__score-container",children:[e.jsxs("h3",{className:"score-board__title",children:["o (",s,")"]}),e.jsx("p",{className:"score-board__scores",children:t.scores.oScore})]})]})}class k extends h.Component{constructor(s){super(s);c(this,"state");c(this,"iconX");c(this,"iconO");this.iconX=e.jsx("svg",{className:"board__x-icon",width:"64",height:"64",children:e.jsx("use",{href:`${l}#icon-x`})}),this.iconO=e.jsx("svg",{className:"board__o-icon",width:"64",height:"64",children:e.jsx("use",{href:`${l}#icon-o`})}),this.state={field:{squares:Array(9).fill(null),marks:Array(9).fill(null)},scores:{xScore:0,oScore:0,ties:0},isXStep:!0,isRestart:!1}}handleFieldClick(s){const{squares:n,marks:i}=this.state.field;n[s]||o(this.state.field.marks)||(this.state.isXStep?(n[s]=this.iconX,i[s]="x"):(n[s]=this.iconO,i[s]="o"),this.setState({field:{squares:n,marks:i},isXStep:!this.state.isXStep}))}restartClickHandler(){this.setState({isRestart:!0})}nextRoundHandler(){const s=o(this.state.field.marks);let{xScore:n,oScore:i,ties:a}=this.state.scores;s&&(s==="tie"?a+=1:s[0]==="x"?n+=1:s[0]==="o"&&(i+=1)),this.setState({field:{squares:Array(9).fill(null),marks:Array(9).fill(null)},isXStep:!0,scores:{xScore:n,oScore:i,ties:a}})}restartGame(){this.setState({field:{squares:Array(9).fill(null),marks:Array(9).fill(null)},scores:{xScore:0,oScore:0,ties:0},isXStep:!0,isRestart:!1}),this.props.resetGame()}onRoundEnd(s){if(s){let n=null,i=null;return s==="tie"?n=e.jsx("h2",{className:"result__title_tie",children:"round tied"}):s[0]==="x"?(n=e.jsxs("h2",{className:"result__title_x-win",children:[this.iconX," takes the round"]}),i=e.jsx("p",{className:"result__winner-para",children:"player 1 wins!"})):s[0]==="o"&&(n=e.jsxs("h2",{className:"result__title_o-win",children:[this.iconO,"takes the round"]}),i=e.jsx("p",{className:"result__winner-para",children:"player 2 wins!"})),e.jsx("div",{className:"board__result-backdrop",children:e.jsxs("div",{className:"result__container",children:[i,n,e.jsxs("div",{className:"result__btns-wrapper",children:[e.jsx("button",{className:"result__quit-btn",type:"button",onClick:()=>this.restartClickHandler(),children:"quit"}),e.jsx("button",{className:"result__next-btn",type:"button",onClick:()=>this.nextRoundHandler(),children:"next round"})]})]})})}return null}render(){const s=o(this.state.field.marks)?this.onRoundEnd(o(this.state.field.marks)):null,n=this.state.isRestart?e.jsx("div",{className:"board__restart-backdrop",children:e.jsxs("div",{className:"restart__container",children:[e.jsx("h2",{className:"restart__title",children:"restart game?"}),e.jsxs("div",{className:"restart__btns-wrapper",children:[e.jsx("button",{className:"restart__no-btn",type:"button",onClick:()=>{this.setState({isRestart:!1})},children:"no, cancel"}),e.jsx("button",{className:"restart__yes-btn",type:"button",onClick:()=>{this.restartGame()},children:"yes, restart"})]})]})}):null;return e.jsxs("div",{className:"board-container",children:[e.jsx(S,{isXStep:this.state.isXStep,onClick:()=>this.restartClickHandler()}),e.jsx(g,{squares:this.state.field.squares,marks:this.state.field.marks,onClick:i=>this.handleFieldClick(i),isXStep:this.state.isXStep}),e.jsx(y,{isMultiplayer:this.props.isMultiplayer,isXSelected:this.props.isXSelected,scores:this.state.scores}),s,n]})}}class g extends h.Component{constructor(r){super(r)}renderSquare(r){return e.jsx(v,{value:this.props.squares[r],marks:this.props.marks,id:r,onClick:()=>this.props.onClick(r),isXStep:this.props.isXStep})}render(){return e.jsxs("div",{className:"board__game-field",children:[this.renderSquare(0),this.renderSquare(1),this.renderSquare(2),this.renderSquare(3),this.renderSquare(4),this.renderSquare(5),this.renderSquare(6),this.renderSquare(7),this.renderSquare(8)]})}}function v(t){let r=null;const s=o(t.marks);if(t.value||(t.isXStep?r=e.jsx("svg",{className:"board__icon-outline",width:"64",height:"64",children:e.jsx("use",{href:`${l}#icon-x-outline`})}):r=e.jsx("svg",{className:"board__icon-outline",width:"64",height:"64",children:e.jsx("use",{href:`${l}#icon-o-outline`})})),s&&s!=="tie"&&(s[1]===t.id||s[2]===t.id||s[3]===t.id)){const n=s[0]==="x"?"board__square-btn_x-win":"board__square-btn_o-win";return e.jsxs("button",{className:`board__square-btn ${n}`,children:[t.value,r]})}return e.jsxs("button",{className:"board__square-btn",onClick:t.onClick,children:[t.value,r]})}function o(t){const r=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const s of r){const[n,i,a]=s;if(t[n]&&t[n]===t[i]&&t[n]===t[a])return[t[n],n,i,a]}return t.every(s=>s)?"tie":null}class C extends h.Component{constructor(s){super(s);c(this,"state");this.state={isXSelected:!0,isMultiplayer:null}}handleEnemySelect(s){this.setState({isMultiplayer:s})}handleMarkChange(s){this.setState({isXSelected:s})}handleReset(){this.setState({isXSelected:!0,isMultiplayer:null})}render(){return this.state.isMultiplayer!==!0?e.jsx(f,{onChange:s=>{this.handleMarkChange(s)},onClick:s=>{this.handleEnemySelect(s)}}):e.jsx(k,{resetGame:()=>{this.handleReset()},isMultiplayer:this.state.isMultiplayer,isXSelected:this.state.isXSelected})}}const X=x.createRoot(document.querySelector(".game"));X.render(e.jsx(C,{}));
//# sourceMappingURL=index.js.map
